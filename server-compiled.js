(()=>{var e={860:e=>{"use strict";e.exports=require("express")},13:e=>{"use strict";e.exports=require("mongodb")}},n={};function t(s){var o=n[s];if(void 0!==o)return o.exports;var a=n[s]={exports:{}};return e[s](a,a.exports,t),a.exports}(()=>{const{MongoClient:e}=t(13),n=t(860);let s;const o=n();o.set("view engine","ejs"),o.set("views","./views"),o.use(n.static("public")),o.get("/",(async(e,n)=>{const t=await s.collection("animals").find().toArray();console.log(t),n.render("home",{allAnimals:t})})),o.use((function(e,n,t){n.set("WWW-Authenticate","Basic realm='Our MERN App"),"Basic YWRtaW46YWRtaW4="==e.headers.authorization?t():(console.log(e.headers.authorization),n.status(401).send("Try Again"))})),o.get("/admin",((e,n)=>{n.render("admin")})),o.get("/api/animals",(async(e,n)=>{const t=await s.collection("animals").find().toArray();n.json(t)})),async function(){const n=new e("mongodb+srv://user:AMBLUEABBADEEABBADAAE@cluster0.oxnwe.mongodb.net/AbbaDeeAbbaDae?&authSource=admin");await n.connect(),s=n.db(),o.listen(4230,(()=>{console.log("\nThe server is running at port 42300\nPress CTRL + C to end the server")}))}()})()})();